### 无锁编程
[透过 Linux 内核看无锁编程](https://www.ibm.com/developerworks/cn/linux/l-cn-lockfree/index.html)
如何在并行的时候保护共享内存，常用的手段就是同步
同步分为阻塞型同步和非阻塞型同步，也就是使用锁和不使用锁

### 乐观锁和悲观锁
+ 乐观锁 
  实现数据版本有两种方式，第一种是使用版本号，第二种是使用时间戳
但如果直接简单这么做，还是有可能会遇到不可预期的结果，例如两个事务都读取了数据库的某一行，经过修改以后写回数据库，这时就遇到了问题
数据版本,为数据增加的一个版本标识。当读取数据时，将版本标识的值一同读出，数据每更新一次，同时对版本标识进行更新。当我们提交更新的时候，判断数据库表对应记录的当前版本信息与第一次取出来的版本标识进行比对，如果数据库表当前版本号与第一次取出来的版本标识值相等，则予以更新，否则认为是过期数据
+ 悲观锁
  悲观并发控制实际上是“先取锁再访问”的保守策略，为数据处理的安全提供了保证。但是在效率方面，处理加锁的机制会让数据库产生额外的开销，还有增加产生死锁的机会；另外，在只读型事务处理中由于不会产生冲突，也没必要使用锁，这样做只能增加系统负载；还有会降低了并行性，一个事务如果锁定了某行数据，其他事务就必须等待该事务处理完才可以处理那行数